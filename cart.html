<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amazon | Cart Page</title>
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="landing.css">
    
</head>
<body>
    <header>
         <!--Nav itens here-->
        <nav class="navbar navbar-expand-lg navbar-light bg-white">
            <div class="container">
                <img src="./images/Foodies logo without Banner 1.png" style="width: 50px; height: 50px" alt="">
                <div class="position-relative me-3 d-lg-none d-md-none">
                    <a href="cart.html" class="nav-link">
                        <i class="fa-solid fa-cart-shopping fa-2x"></i>
                        <span id="cartCount" class="badge bg-danger position-absolute top-0 start-100 translate-middle">0</span>
                    </a>
                </div>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav mx-auto mb-2 mb-lg-0 ">
                    <li class="nav-item mx-3">
                        <a class="nav-link text-dark fw-bold"  href="./index.html">Home</a>
                    </li>
                    <li class="nav-item mx-3">
                        <a class="nav-link NavClr "  href="./product-page.html">Our Products</a>
                    </li>
                    <li class="nav-item mx-3">
                        <a class="nav-link NavClr"  href="./health-benefit.html">Health Benefits</a>
                    </li>
                    <li class="nav-item mx-3">
                        <a class="nav-link NavClr "  href="#">Blogs</a>
                    </li>
                    <li class="nav-item mx-3">
                        <a class="nav-link NavClr"  href="#">FAQS</a>
                    </li>
                    </ul>
                    
                    <form class="d-flex">
                        <div class="d-flex align-items-center">
                            <span class="input-group-text border-0 me-lg-5 pe-lg-4" id="search-addon">
                            <i class="fas fa-search"></i>
                            </span>
                            <!-- Icons -->
                            <a class="text-reset me-3" href="#">
                            <i class="fa-regular fa-heart"></i>
                            </a>
                            <div class="position-relative me-3">
                               <a href="cart.html" class="nav-link">
                                    <i class="fa-solid fa-cart-shopping fa-2x"></i>
                                    <span id="cartCount" class="badge bg-danger position-absolute top-0 start-100 translate-middle">0</span>
                                </a>
                            </div>
                         <div id="userContainer" style="position: relative; display: inline-block; z-index: 1200;">
                            <!-- use a button so it's always clickable and accessible -->
                            <button id="logoutBtn" type="button" class="btn btn-link p-0" aria-label="User menu"
                                    style="border: none; background: transparent; cursor: pointer;">
                              <i id="logoutIcon" class="fa-solid fa-user me-3" style="color: #333;"></i>
                            </button>

                            <!-- badge -->
                            <span id="loginBadge"
                              style="display:none; position: absolute; top: 0; right: -6px; 
                                    background: #00A859; color: #fff; font-size: 10px; 
                                    padding: 2px 6px; border-radius: 50%; pointer-events: none;" class="ms-3">
                                  ✓
                            </span>
                          </div>
                            <button class="btn btn-success ms-3" type="submit">Contact us</button>
                        </div>
                    </form>
                </div>
            </div>
        </nav>
        <!-- nav section ends here  -->
    </header>

    <main>
        <div class="container mt-lg-4 mt-4 pt-lg-5">
            <div class="row ">
              <div class="col-md-7 ">
              <div class="">
                <!-- <h3>Shopping Cart ( items)</h3> -->
                
                <div id="cartItems" class="mt-3">
                </div>
              </div>
              </div>
              

              <div class="col-sm-12 col-md-12 col-lg-5">
                <p class="popupblack mb-lg-3">Order Summary</p>
                  <div id="orderSummary" class="mt-lg-0 mt-3">
                     
                  </div>

                    <!-- <div class="d-flex justify-content-between mt-lg-0 mt-5">
                      <p class="popupblack mb-lg-0">Order Summary</p>
                      <p class="fw-bold">$582</p>
                    </div>
                    <hr>
                    <div class="d-flex justify-content-between align-items-center">
                        <p>Original Price</p>
                        <p>$582.00</p>
                    </div>
                    <div class="d-flex justify-content-between align-items-center">
                        <p>Savings</p>
                        <p>$$82.00</p>
                    </div>
                    <div class="d-flex justify-content-between align-items-center">
                        <p>Shipping</p>
                        <p>FREE</p>
                    </div>
                    <div class="d-flex justify-content-between align-items-center">
                        <p>Estimated Sales Tax</p>
                        <p>$3.50</p>
                    </div>
                    <hr>
                    <div class="d-flex justify-content-between align-items-center">
                        <p class="fw-bold">Total</p>
                        <p class="fw-bold">$496.50</p>
                    </div> -->


                    <a href="./checkout.html"><button class="btn cartOrderBtn mt-lg-4 mt-5" type="button"> Proceed To Checkout</button></a> 
                </div>

                
                
            </div>
        </div>

        <!-- cart section 2 (PROPLE ALSO BUY) -->
     
        <div class="container mt-lg-5 pt-lg-4">
          <h2 class="mt-lg-5 mt-5 pt-lg-3 cardHeader-black">People Also Buy</h2>
            
          <div class="hero2head d-flex justify-content-between align-items-center">
            <span class="my-lg-4 CustomP-16-400">Browse our most popular snacks and make your day<br> more beautiful and glorious.</span>
            <button type="button" class="btn btn-outline-success fw-bold browseBTN my-lg-0 my-5">Browse all</button>
          </div>

          <div class="bbb px-lg-5 ">
          <div class="carousel products-scroll-x" id="carousel2">
          </div>
        </div>
          </div> 
        </div>


        


    









       


        <div class="container-fluid footerBackgroundIMG  mt-lg-5 mt-5">
        <div class="container pt-5">
          <div class="text-center">
              <h3 class="footHead1">Excellent</h3>
                <div class="star-rating text-center mt-3">
                  <i class="fa-regular fa-star" style="color: #fcfcfc; background-color: #00A859; width: 47px; height: 35px;" ></i>
                  <i class="fa-regular fa-star" style="color: #fcfcfc; background-color: #00A859; width: 47px; height: 35px;"></i>
                  <i class="fa-regular fa-star" style="color: #fcfcfc; background-color: #00A859; width: 47px; height: 35px;"></i>
                  <i class="fa-regular fa-star" style="color: #fcfcfc; background-color: #00A859; width: 47px; height: 35px;"></i>
                  <i class="fa-regular fa-star" style="color: #fcfcfc; background-color: #00A859; width: 47px; height: 35px;"></i>
              </div>
              <p class="CustomP-14-400 text-white mt-3">Based on 13,586 reviews</p>
              <div>
                <span><i class="fa-solid fa-star" style="color: #047c58; width: 35px; height: 25px;"></i></span>
                <span class="text-white fs-5">Trustpilot</span>
              </div>
          </div>
          <div class="row mt-lg-5 mt-5 pt-lg-3">
            <div class="col-sm-12 col-md-6 col-lg-3">
              <div class="div text-white">
                <p class="customFotterp">Customer Service</p>
                <p class="CustomP-16-400">Order Lookup</p>
                <p class="CustomP-16-400">Bulk Order</p>
                <p class="CustomP-16-400">Shipping & Delivery</p>
                <p class="CustomP-16-400">Discounts</p>
              </div>
            </div>
            <div class="col-sm-12 col-md-6 col-lg-3">
              <div class="div text-white">
                <p class="customFotterp">About Us</p>
                <p class="CustomP-16-400">News & Blogs</p>
                <p class="CustomP-16-400">Supplier</p>
                <p class="CustomP-16-400">Terms & condition</p>
                <p class="CustomP-16-400">Privacy Policy</p>
              </div>
            </div>
            <div class="col-sm-12 col-md-6 col-lg-2">
              <div class="div text-white">
                <p class="customFotterp">Need Help?</p>
                <p class="CustomP-16-400">Contact Us</p>
                <p class="CustomP-16-400">FAQs</p>
              </div>
            </div>
            <div class="col-sm-12 col-md-6 col-lg-2">
              <div class="div text-white">
                <p class="customFotterp">Privacy</p>
                <p class="CustomP-16-400">Terms & Condition</p>
                <p class="CustomP-16-400">Privacy Polivcy</p>
              </div>
            </div>
            <div class="col-sm-12 col-md-6 col-lg-2  my-lg-5 my-5">
              <div class="div text-white">
                <p class="customFotterp">Follow Us</p>
                <img src="./images/Social.png" alt="">
              </div>
            </div>
          </div>
          </div>
          </div>
          <div class="container-fluid FooterbackG">
          <div class="container py-lg-4">
            <div class="row align-items-center">
              <div class="col-sm-12 col-md-12 col-lg-4 col-xl-4 mt-lg-0 mt-3">
                <img src="./images/Foodies logo without Banner 1.png" style="width: 40px; height: 40px" alt="">
              </div>
              <div class="col-sm-12 col-md-12 col-lg-3 col-xl-3 mt-lg-0 mt-3">
                <img src="./images/pay.png" alt="">
              </div>
              <div class="col-sm-12 col-md-12 col-lg-5 col-xl-5 mt-lg-0 mt-3">
                <small>Copyright © 2024 FoodieAmazon. All Rights Reserved</small>
              </div>
            </div>
          </div>
        </div>
    </main>

    

    <!-- <div class="row"> -->
      <div class="container">
        <h1>Shopping Cart</h1>
        
        <div id="cartItems">
        </div>
        
      </div>
    </div>


    <script>
            document.addEventListener('DOMContentLoaded', () => {
        const logoutBtn = document.getElementById('logoutBtn');
        const loginBadge = document.getElementById('loginBadge');

        // Safe initialization of badge on load
        if (loginBadge) {
          const token = localStorage.getItem('key');
          const email = localStorage.getItem('customerEmail') || '';
          if (token) {
            loginBadge.style.display = 'inline-block';
            if (email) loginBadge.textContent = email.charAt(0).toUpperCase();
          } else {
            loginBadge.style.display = 'none';
          }
        }

        // If no button found, bail out (prevents null errors)
        if (!logoutBtn) {
          console.warn('logoutBtn not found in DOM.');
          return;
        }

        // Optional: debug log so you can confirm handler is attached
        console.log('logout button initialized');

        // Attach click listener
        logoutBtn.addEventListener('click', (e) => {
          // quick debug log
          console.log('logoutBtn clicked', e);

          // Show confirmation
          Swal.fire({
            title: 'Are you sure you want to log out?',
            icon: 'warning',
            showCancelButton: true,
            confirmButtonText: 'Yes, Logout',
            cancelButtonText: 'No',
            confirmButtonColor: "#d33",
            cancelButtonColor: "#3085d6"
          }).then((result) => {
            if (result.isConfirmed) {
              // Clear localStorage keys
              localStorage.removeItem("key");
              localStorage.removeItem("customerloginid");
              localStorage.removeItem("customerid");
              localStorage.removeItem("cart");
              localStorage.removeItem("site_cart_v1");

              // hide badge if present
              if (loginBadge) loginBadge.style.display = 'none';

              // show success and redirect
              Swal.fire({
                icon: 'success',
                title: 'Logged Out',
                text: 'You have been successfully logged out.',
                timer: 1200,
                showConfirmButton: false
              });

              setTimeout(() => { window.location.href = 'login.html'; }, 1200);
            }
          });
        }, { passive: true });
      });

    </script>






    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.min.js" integrity="sha384-RuyvpeZCxMJCqVUGFI0Do1mQrods/hhxYlcVfGPOfQtPJh0JCw12tUAZ/Mv10S7D" crossorigin="anonymous"></script> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/js/all.min.js" integrity="sha512-b+nQTCdtTBIRIbraqNEwsjB6UvL3UEMkXnhzd8awtCYh0Kcsjl9uEgwVFVbhoj3uu1DO1ZMacNvLoyJJiNfcvg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script src="./js/index.js"></script>
</body>
</html>